
<head>
    <title>New Expense</title>
    <meta charset="utf-8">
    <link href="~/Content/css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="~/Content/style.css" type="text/css" />
    <link href="~/Content/css/bootstrap.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Bitter' rel='stylesheet' type='text/css'>
</head>
<script type="text/javascript">
    function getFile() {
        document.getElementById("upfile").click();
    }
    function sub(obj) {
        var file = obj.value;
        var fileName = file.split("\\");
        document.getElementById("filefield").innerHTML = fileName[fileName.length - 1];
        document.getElementById('filefield').value = fileName[fileName.length - 1];
        document.myForm.submit();
        event.preventDefault();
    }
</script>
<body>
    <main class="form">
        <header class="header"><h3>New Expense</h3></header>

        @using (Html.BeginForm("ExpenseAdded", "home", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {

            <table>
                @using System.Web.Mvc.Html
                @model ExpansesControlSystem.Models.Expans
                <tr>
                    <th class="half"><label>Type</label></th>
                    <th class="right">
                        @Html.DropDownList("TypeCode", null, new { @class = "select" })
                    </th>
                </tr>
                <tr>
                    <th class="half"><label>Expense Date</label></th>
                    <th class="right">
                        @*<input class="date" type="date" placeholder="dd-mm-yyyy">*@
                        @Html.TextBoxFor(model => model.Date, new { @class = "date", @type = "date", @placeholder = "dd-mm-yyyy" })
                    </th>
                </tr>

                <tr>
                    <th class="half"><label>Currency</label></th>
                    <th class="right">
                        @Html.DropDownList("Currency", null, new { @class = "select" })
                    </th>
                </tr>
                <tr>
                    <th class="half"><label>Amount</label></th>
                    <th class="right">@Html.TextBoxFor(model => model.Ammount, new { @class = "date", @placeholder = "dd-mm-yyyy" })</th>
                </tr>
                <tr>
                    <th class="half"><label>Note</label></th>
                    <th class="right">@Html.TextAreaFor(model => model.Note, new { @class = "select area", @rows = "3" })</th>
                </tr>
                <tr>
                    <th class="half ">
                        <div style="float:right">
                            <div id="yourBtn" class="btn btn-info info rightbutton" style="margin-right:10px" onclick="getFile()">Attach a file</div>
                            <!-- this is your file input tag, so i hide it!-->
                            <!-- i used the onchange event to fire the form submission-->
                            <div style='height: 0px; width: 0px; overflow: hidden;'><input id="upfile" name="file" type="file" value="upload" onchange="sub(this)" /></div>

                        </div>
                    </th>
                    <th class="right">
                        <input type="text" id="filefield" readonly="readonly">
                    </th>
                </tr>
                <tr>
                    <th class="half"><label>File Description</label></th>
                    <th class="right">@Html.TextAreaFor(model => model.FileDescription, new { @class = "area", @rows = "1" })</th>
                </tr>

                <tr>
                    <th class="half">
                    </th>
                    <th>
                        <div>
                            <button class="btn btn-info info" type="submit">OK</button>
                            <button class="btn btn-info ">Cancel</button>
                        </div>
                    </th>
            </table>
        }
    </main>
</body>
